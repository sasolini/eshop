{"version":3,"sources":["redux/directory/directory.selectors.js","components/menu-item/menu-item.component.jsx","components/directory/directory.component.jsx","pages/homepage/homepage.styles.jsx","pages/homepage/homepage.component.jsx","redux/shop/shop.types.js","firebase/firebase.utils.js","redux/shop/shop.actions.js","redux/shop/shop.selectors.js","components/with-spinner/with-spinner.styles.jsx","components/with-spinner/with-spinner.component.jsx","redux/cart/cart.types.js","redux/cart/cart.actions.js","components/custom-button/custom-button.styles.jsx","components/custom-button/custom-button.component.jsx","components/collection-item/collection-item.styles.jsx","components/collection-item/collection-item.component.jsx","components/collection-preview/collection-preview.component.jsx","components/collections-overview/collections-overview.components.jsx","components/collections-overview/collections-overview.container.jsx","pages/collection/collection.component.jsx","pages/collection/collection.container.jsx","pages/shop/shop.component.jsx","components/form-input/form-input.component.jsx","redux/user/user.types.js","redux/user/user.actions.js","components/sign-in/sign-in.component.jsx","components/sign-up/sign-up.component.jsx","pages/sign-in-and-sign-up/sign-in-and-sign-up.component.jsx","components/checkout-item/checkout-item.compnent.jsx","components/stripe-button/stripe-button.component.jsx","redux/cart/cart.selectors.js","pages/checkout/checkout.component.jsx","assets/shopping-bag.svg","components/cart-icon/cart-icon.component.jsx","components/cart-item/cart-item.component.jsx","components/cart-dropdown/cart-dropdown.component.jsx","redux/user/user.selectors.js","assets/crown.svg","components/header/header.styles.jsx","components/header/header.component.jsx","App.jsx","redux/user/user.reducer.js","redux/cart/cart.utils.js","redux/cart/cart.reducer.js","redux/directory/directory.reducer.js","redux/shop/shop.reducer.js","redux/root-reducer.js","redux/shop/shop.sagas.js","redux/user/user.sagas.js","redux/cart/cart.sagas.js","redux/root-saga.js","redux/store.js","serviceWorker.js","index.js"],"names":["selectDirectorySection","createSelector","state","directory","sections","withRouter","title","imageUrl","size","history","linkUrl","match","className","onClick","push","url","style","backgroundImage","toUpperCase","mapStateToProps","createStructuredSelector","connect","map","id","otherSectionProps","key","HomePageContainer","styled","div","HomePage","ShopActionTypes","FETCH_COLLECTIONS_START","FETCH_COLLECTIONS_SUCCESS","FETCH_COLLECTIONS_FAILURE","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createUserProfileDocument","userAuth","additionalData","a","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","set","console","log","message","convertCollectionSnapshotToMap","collections","docs","data","items","routeName","encodeURI","toLowerCase","reduce","acc","collection","auth","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","fetchCollectionsStart","type","fetchCollecitonsSuccess","collectionsMap","payload","fetchCollectionFailure","errMessage","selectShop","shop","selectCollections","selectCollectionsForPreview","Object","keys","selectIsCollectionFetching","isFetching","selectIsCollectionLoaded","SpinnerOverlay","SpinnerContainer","WithSpinner","WrappedComponent","isLoading","otherProps","CartActionTypes","TOGGLE_CART_HIDDEN","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEM_FROM_CART","CLEAR_CART","toggleCartHidden","addItem","item","buttonStyles","css","invertedButtonStyles","googleSignInStyles","CustomButtonContainer","button","props","isGoogleSignIn","inverted","CustomButton","children","ImageContainer","Button","FooterContainer","Name","span","Price","CollectionItemContainer","dispatch","name","price","CollectionPreview","filter","idx","mapStateToProsp","CollectionsOverviewContainer","compose","CollectionsOverview","ownProps","collectionUrlParam","params","collectionId","CollectionPageContainer","CollectionPage","useEffect","exact","path","component","FormInput","handleChange","label","onChange","value","length","UserActionTypes","SET_CURRENT_USER","GOOGLE_SIGN_IN_START","EMAIL_SIGN_IN_START","SIGN_IN_SUCCESS","SIGN_IN_FAILURE","CHECK_USER_SESSION","SIGN_OUT_START","SIGN_OUT_SUCCESS","SIGN_OUT_FAILURE","SIGN_UP_START","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","signInFailure","error","signUpSuccess","user","googleSignInStart","emailSignInStart","password","useState","userCredentials","setCredentials","handleSubmit","event","preventDefault","target","onSubmit","required","signUpStart","confirmPassword","setUserCredentials","alert","SignInAndSignUpPage","clearItem","clearItemFromCart","removeItem","cartItem","quantity","src","alt","StripeCheckoutButton","priceForStripe","billingAddress","shippingAddress","image","description","amount","currency","panelLabel","token","axios","method","then","response","catch","JSON","parse","stripeKey","selectCart","cart","selectCartItems","cartItems","selectCartHidden","hidden","selectCartItemsCount","selectCartTotal","total","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref","svgRef","x","y","viewBox","enableBackground","xmlSpace","ref","fill","d","ForwardRef","forwardRef","itemCount","CartItem","selectCurrentUser","currentUser","stroke","strokeWidth","fillRule","transform","points","fillOpacity","cx","cy","r","width","height","undefined","HeaderContainer","LogoContainer","Link","OptionsContainer","OptionLink","signOutStart","to","action","as","signInSignOutLink","checkUserSession","ShopPage","CheckoutPage","render","INITIAL_STATE","userReducer","addItemToCart","cartItemToAdd","find","removeItemFromCart","cartItemsToRemove","cartReducer","directoryReducer","shopReducer","persistConfig","storage","whitelist","rootReducer","combineReducers","persistReducer","fetchCollectionsAsync","shopSagas","collectionRef","snapshot","put","takeLatest","all","getSnapshotFromUserAuth","signInWithGoogle","signInWithEmail","isUserAuthenticated","signOut","signUp","singInAfterSignUp","onGoogleSignInStart","onEmailSignInStart","onCheckUserSession","onSignOutStart","onSignUpStart","onSingUpSuccess","userSagas","userSnapshot","signInWithPopup","signInWithEmailAndPassword","Promise","resolve","reject","unsubscribe","onAuthStateChanged","createUserWithEmailAndPassword","clearCartOnSignOut","onsignOutSuccess","cartSagas","rootSaga","sagaMiddleware","createSagaMiddleware","middlewares","store","createStore","applyMiddleware","run","persistor","persistStore","Boolean","window","location","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b95f7137.chunk.js","sourcesContent":["import { createSelector } from 'reselect';\r\n\r\nconst selectDirectory = state => state.directory;\r\n\r\nexport const selectDirectorySection = createSelector(\r\n  [selectDirectory],\r\n  directory => directory.sections\r\n);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport './menu-item.styles.scss';\r\n\r\nconst MenuItem = ({ title, imageUrl, size, history, linkUrl, match }) => (\r\n  <div\r\n    className={`${size} menu-item`}\r\n    onClick={() => history.push(`${match.url}${linkUrl}`)}\r\n  >\r\n    <div\r\n      className='background-image'\r\n      style={{ backgroundImage: `url(${imageUrl})` }}\r\n    />\r\n    <div className='content'>\r\n      <h1 className='title'>{title.toUpperCase()}</h1>\r\n      <span className='subtitle'>SHOP NOW</span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default withRouter(MenuItem);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { selectDirectorySection } from '../../redux/directory/directory.selectors';\r\n\r\nimport MenuItem from '../menu-item/menu-item.component';\r\n\r\nimport './directory.styles.scss';\r\n\r\nconst Directory = ({ sections }) => (\r\n  <div className='directory-menu'>\r\n    {sections.map(({ id, ...otherSectionProps }) => (\r\n      <MenuItem key={id} {...otherSectionProps} />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  sections: selectDirectorySection,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Directory);\r\n","import styled from 'styled-components';\r\n\r\nexport const HomePageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n","import React from 'react';\r\n\r\nimport Directory from '../../components/directory/directory.component';\r\n\r\nimport { HomePageContainer } from './homepage.styles';\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <HomePageContainer>\r\n      <Directory />\r\n    </HomePageContainer>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","const ShopActionTypes = {\r\n  FETCH_COLLECTIONS_START: 'FETCH_COLLECTIONS_START',\r\n  FETCH_COLLECTIONS_SUCCESS: 'FETCH_COLLECTIONS_SUCCESS',\r\n  FETCH_COLLECTIONS_FAILURE: 'FETCH_COLLECTIONS_FAILURE',\r\n};\r\n\r\nexport default ShopActionTypes;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst config = {\r\n  apiKey: 'AIzaSyAg7Lp6F7eYTGzAszirSY9k_yQwe-WKJGk',\r\n  authDomain: 'eshop-77b99.firebaseapp.com',\r\n  databaseURL: 'https://eshop-77b99.firebaseio.com',\r\n  projectId: 'eshop-77b99',\r\n  storageBucket: 'eshop-77b99.appspot.com',\r\n  messagingSenderId: '1041339000243',\r\n  appId: '1:1041339000243:web:b30636303b8703e25f17c6',\r\n  measurementId: 'G-60YBLWWBC7',\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\r\n  if (!userAuth) return;\r\n\r\n  const userRef = firestore.doc(`users/${userAuth.uid}`);\r\n  const snapShot = await userRef.get();\r\n\r\n  if (!snapShot.exists) {\r\n    const { displayName, email } = userAuth;\r\n    const createdAt = new Date();\r\n\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        createdAt,\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.log('error creating user', error.message);\r\n    }\r\n  }\r\n\r\n  return userRef;\r\n};\r\n\r\nexport const addCollectionAndDocuments = async (\r\n  collectionKey,\r\n  objectsToAdd\r\n) => {\r\n  const collectionRef = firestore.collection(collectionKey);\r\n\r\n  const batch = firestore.batch();\r\n  objectsToAdd.forEach(obj => {\r\n    const newDocRef = collectionRef.doc();\r\n    batch.set(newDocRef, obj);\r\n  });\r\n\r\n  return await batch.commit();\r\n};\r\n\r\nexport const convertCollectionSnapshotToMap = collections => {\r\n  const transformedCollection = collections.docs.map(doc => {\r\n    const { title, items } = doc.data();\r\n\r\n    return {\r\n      routeName: encodeURI(title.toLowerCase()),\r\n      id: doc.id,\r\n      title,\r\n      items,\r\n    };\r\n  });\r\n\r\n  return transformedCollection.reduce((acc, collection) => {\r\n    acc[collection.title.toLowerCase()] = collection;\r\n    return acc;\r\n  }, {});\r\n};\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nexport const getCurrentUser = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const unsubscribe = auth.onAuthStateChanged(userAuth => {\r\n      unsubscribe();\r\n      resolve(userAuth);\r\n    }, reject);\r\n  });\r\n};\r\n\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\ngoogleProvider.setCustomParameters({ prompt: 'select_account' });\r\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider);\r\n\r\nexport default firebase;\r\n","import ShopActionTypes from './shop.types';\r\n\r\nimport {\r\n  firestore,\r\n  convertCollectionSnapshotToMap,\r\n} from '../../firebase/firebase.utils';\r\n\r\nexport const fetchCollectionsStart = () => ({\r\n  type: ShopActionTypes.FETCH_COLLECTIONS_START,\r\n});\r\n\r\nexport const fetchCollecitonsSuccess = collectionsMap => ({\r\n  type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\r\n  payload: collectionsMap,\r\n});\r\n\r\nexport const fetchCollectionFailure = errMessage => ({\r\n  type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\r\n  payload: errMessage,\r\n});\r\n\r\nexport const fetchCollectionsStartAsync = () => {\r\n  return dispatch => {\r\n    const collectionRef = firestore.collection('collections');\r\n    dispatch(fetchCollectionsStart());\r\n\r\n    collectionRef\r\n      .get()\r\n      .then(snapshot => {\r\n        const collectionsMap = convertCollectionSnapshotToMap(snapshot);\r\n        dispatch(fetchCollecitonsSuccess(collectionsMap));\r\n      })\r\n      .catch(err => dispatch(fetchCollectionFailure(err.message)));\r\n  };\r\n};\r\n","import { createSelector } from 'reselect';\r\n\r\nconst selectShop = state => state.shop;\r\n\r\nexport const selectCollections = createSelector(\r\n  [selectShop],\r\n  shop => shop.collections\r\n);\r\n\r\nexport const selectCollectionsForPreview = createSelector(\r\n  [selectCollections],\r\n  collections =>\r\n    collections ? Object.keys(collections).map(key => collections[key]) : []\r\n);\r\n\r\nexport const selectCollection = collectionUrlParam =>\r\n  createSelector([selectCollections], collections =>\r\n    collections ? collections[collectionUrlParam] : null\r\n  );\r\n\r\nexport const selectIsCollectionFetching = createSelector(\r\n  [selectShop],\r\n  shop => shop.isFetching\r\n);\r\n\r\nexport const selectIsCollectionLoaded = createSelector(\r\n  [selectShop],\r\n  shop => !!shop.collections\r\n);\r\n","import styled from 'styled-components';\n\nexport const SpinnerOverlay = styled.div`\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const SpinnerContainer = styled.div`\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n`;\n","import React from 'react';\r\n\r\nimport { SpinnerContainer, SpinnerOverlay } from './with-spinner.styles';\r\n\r\nconst WithSpinner = WrappedComponent => ({ isLoading, ...otherProps }) => {\r\n  return isLoading ? (\r\n    <SpinnerOverlay>\r\n      <SpinnerContainer />\r\n    </SpinnerOverlay>\r\n  ) : (\r\n    <WrappedComponent {...otherProps} />\r\n  );\r\n};\r\n\r\nexport default WithSpinner;\r\n","const CartActionTypes = {\r\n  TOGGLE_CART_HIDDEN: 'TOGGLE_CART_HIDDEN',\r\n  ADD_ITEM: 'ADD_ITEM',\r\n  REMOVE_ITEM: 'REMOVE_ITEM',\r\n  CLEAR_ITEM_FROM_CART: 'CLEAR_ITEM_FROM_CART',\r\n  CLEAR_CART: 'CLEAR_CART',\r\n};\r\n\r\nexport default CartActionTypes;\r\n","import CartActionTypes from './cart.types';\r\n\r\nexport const toggleCartHidden = () => ({\r\n  type: CartActionTypes.TOGGLE_CART_HIDDEN,\r\n});\r\n\r\nexport const addItem = item => ({\r\n  type: CartActionTypes.ADD_ITEM,\r\n  payload: item,\r\n});\r\n\r\nexport const removeItem = item => ({\r\n  type: CartActionTypes.REMOVE_ITEM,\r\n  payload: item,\r\n});\r\n\r\nexport const clearItemFromCart = item => ({\r\n  type: CartActionTypes.CLEAR_ITEM_FROM_CART,\r\n  payload: item,\r\n});\r\n\r\nexport const clearCart = () => ({\r\n  type: CartActionTypes.CLEAR_CART,\r\n});\r\n","import styled, { css } from 'styled-components';\r\n\r\nconst buttonStyles = css`\r\n  background-color: black;\r\n  color: white;\r\n  border: none;\r\n\r\n  &:hover {\r\n    background-color: white;\r\n    color: black;\r\n    border: 1px solid black;\r\n  }\r\n`;\r\n\r\nconst invertedButtonStyles = css`\r\n  background-color: white;\r\n  color: black;\r\n  border: 1px solid black;\r\n\r\n  &:hover {\r\n    background-color: black;\r\n    color: white;\r\n    border: none;\r\n  }\r\n`;\r\nconst googleSignInStyles = css`\r\n  background-color: #4285f4;\r\n  color: white;\r\n  border: none;\r\n\r\n  &:hover {\r\n    background-color: #357ae8;\r\n  }\r\n`;\r\n\r\nconst getButtonStyles = props => {\r\n  if (props.isGoogleSignIn) {\r\n    return googleSignInStyles;\r\n  }\r\n\r\n  return props.inverted ? invertedButtonStyles : buttonStyles;\r\n};\r\n\r\nexport const CustomButtonContainer = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  min-width: 165px;\r\n  width: auto;\r\n  height: 50px;\r\n  letter-spacing: 0.5px;\r\n  line-height: 50px;\r\n  padding: 0 35px 0 35px;\r\n  font-size: 15px;\r\n  text-transform: uppercase;\r\n  font-family: 'Open Sans Condensed';\r\n  font-weight: bolder;\r\n  cursor: pointer;\r\n\r\n  ${getButtonStyles}\r\n`;\r\n","import React from 'react';\r\n\r\nimport { CustomButtonContainer } from './custom-button.styles';\r\n\r\nconst CustomButton = ({ children, ...props }) => (\r\n  <CustomButtonContainer {...props}>{children}</CustomButtonContainer>\r\n);\r\n\r\nexport default CustomButton;\r\n","import styled from 'styled-components';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nexport const ImageContainer = styled.div`\r\n  width: 100%;\r\n  height: 95%;\r\n  background-size: cover;\r\n  background-position: center;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nexport const Button = styled(CustomButton)`\r\n  width: 80%;\r\n  opacity: 0.7;\r\n  position: absolute;\r\n  top: 255px;\r\n  display: none;\r\n`;\r\n\r\nexport const FooterContainer = styled.div`\r\n  width: 100%;\r\n  height: 5%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 18px;\r\n`;\r\n\r\nexport const Name = styled.span`\r\n  width: 90%;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nexport const Price = styled.span`\r\n  width: 10%;\r\n`;\r\n\r\nexport const CollectionItemContainer = styled.div`\r\n  width: 22vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 350px;\r\n  align-items: center;\r\n  position: relative;\r\n\r\n  &:hover ${ImageContainer} {\r\n    opacity: 0.8;\r\n  }\r\n\r\n  &:hover ${Button} {\r\n    opacity: 0.85;\r\n    display: flex;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n// import CustomButton from '../custom-button/custom-button.component';\r\nimport { addItem } from '../../redux/cart/cart.actions';\r\n\r\n// import './collection-item.styles.scss';\r\n\r\nimport {\r\n  CollectionItemContainer,\r\n  ImageContainer,\r\n  Button,\r\n  FooterContainer,\r\n  Name,\r\n  Price,\r\n} from './collection-item.styles';\r\n\r\nconst CollectionItem = ({ item, addItem }) => {\r\n  const { name, price, imageUrl } = item;\r\n  return (\r\n    <CollectionItemContainer>\r\n      <ImageContainer style={{ backgroundImage: `url(${imageUrl})` }} />\r\n      <FooterContainer>\r\n        <Name>{name}</Name>\r\n        <Price>{price}</Price>\r\n      </FooterContainer>\r\n      <Button onClick={() => addItem(item)} inverted>\r\n        Add to Cart\r\n      </Button>\r\n    </CollectionItemContainer>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addItem: item => dispatch(addItem(item)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(CollectionItem);\r\n","import React from 'react';\r\n\r\nimport CollectionItem from '../collection-item/collection-item.component';\r\n\r\nimport './collection-preview.styles.scss';\r\n\r\nconst CollectionPreview = ({ title, items }) => (\r\n  <div className='collection-preview'>\r\n    <h1 className='title'>{title.toUpperCase()}</h1>\r\n    <div className='preview'>\r\n      {items\r\n        .filter((item, idx) => idx < 4)\r\n        .map(item => (\r\n          <CollectionItem key={item.id} item={item} />\r\n        ))}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default CollectionPreview;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport CollectionPreview from '../collection-preview/collection-preview.component';\r\nimport { selectCollectionsForPreview } from '../../redux/shop/shop.selectors';\r\n\r\nimport './collections-overview.styles.scss';\r\n\r\nconst CollectionsOverview = ({ collections }) => (\r\n  <div className='collections-overview'>\r\n    {collections.map(({ id, ...otherSectionProps }) => (\r\n      <CollectionPreview key={id} {...otherSectionProps} />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nconst mapStateToProsp = createStructuredSelector({\r\n  collections: selectCollectionsForPreview,\r\n});\r\n\r\nexport default connect(mapStateToProsp)(CollectionsOverview);\r\n","import { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { compose } from 'redux';\r\n\r\nimport { selectIsCollectionFetching } from '../../redux/shop/shop.selectors';\r\nimport WithSpinner from '../with-spinner/with-spinner.component';\r\nimport CollectionsOverview from './collections-overview.components';\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isLoading: selectIsCollectionFetching,\r\n});\r\n\r\nconst CollectionsOverviewContainer = compose(\r\n  connect(mapStateToProps),\r\n  WithSpinner\r\n)(CollectionsOverview);\r\n\r\nexport default CollectionsOverviewContainer;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport CollecitonItem from '../../components/collection-item/collection-item.component';\r\n\r\nimport { selectCollection } from '../../redux/shop/shop.selectors';\r\n\r\nimport './collection.styles.scss';\r\n\r\nconst CollectionPage = ({ collection }) => {\r\n  const { title, items } = collection;\r\n  return (\r\n    <div className='collection-page'>\r\n      <h2 className='title'>{title}</h2>\r\n      <div className='items'>\r\n        {items.map(item => (\r\n          <CollecitonItem key={item.id} item={item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  collection: selectCollection(ownProps.match.params.collectionId)(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(CollectionPage);\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { selectIsCollectionLoaded } from '../../redux/shop/shop.selectors';\r\nimport WithSpinner from '../../components/with-spinner/with-spinner.component';\r\nimport CollectionPage from './collection.component';\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isLoading: state => !selectIsCollectionLoaded(state),\r\n});\r\n\r\nconst CollectionPageContainer = compose(\r\n  connect(mapStateToProps),\r\n  WithSpinner\r\n)(CollectionPage);\r\n\r\nexport default CollectionPageContainer;\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { fetchCollectionsStart } from '../../redux/shop/shop.actions';\r\n\r\nimport CollectionsOverviewContainer from '../../components/collections-overview/collections-overview.container';\r\nimport CollectionPageContainer from '../collection/collection.container';\r\n\r\nconst ShopPage = ({ fetchCollectionsStart, match }) => {\r\n  useEffect(() => {\r\n    fetchCollectionsStart();\r\n  }, [fetchCollectionsStart]);\r\n\r\n  return (\r\n    <div className='shop-page'>\r\n      <Route\r\n        exact\r\n        path={`${match.path}`}\r\n        component={CollectionsOverviewContainer}\r\n      />\r\n      <Route\r\n        path={`${match.path}/:collectionId`}\r\n        component={CollectionPageContainer}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchCollectionsStart: () => dispatch(fetchCollectionsStart()),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ShopPage);\r\n","import React from 'react';\r\n\r\nimport './form-input.styles.scss';\r\n\r\nconst FormInput = ({ handleChange, label, ...otherProps }) => (\r\n  <div className='group'>\r\n    <input className='form-input' onChange={handleChange} {...otherProps} />\r\n    {label ? (\r\n      <label\r\n        className={`${otherProps.value.length} ? 'shrink' : '' form-input-label`}\r\n      >\r\n        {label}\r\n      </label>\r\n    ) : null}\r\n  </div>\r\n);\r\n\r\nexport default FormInput;\r\n","const UserActionTypes = {\r\n  SET_CURRENT_USER: 'SET_CURRENT_USER',\r\n  GOOGLE_SIGN_IN_START: 'GOOGLE_SIGN_IN_START',\r\n  EMAIL_SIGN_IN_START: 'EMAIL_SIGN_IN_START',\r\n  SIGN_IN_SUCCESS: 'SIGN_IN_SUCCESS',\r\n  SIGN_IN_FAILURE: 'SIGN_IN_FAILURE',\r\n  CHECK_USER_SESSION: 'CHECK_USER_SESSION',\r\n  SIGN_OUT_START: 'SIGN_OUT_START',\r\n  SIGN_OUT_SUCCESS: 'SIGN_OUT_SUCCESS',\r\n  SIGN_OUT_FAILURE: 'SIGN_OUT_FAILURE',\r\n  SIGN_UP_START: 'SIGN_UP_START',\r\n  SIGN_UP_SUCCESS: 'SIGN_UP_SUCCESS',\r\n  SIGN_UP_FAILURE: 'SIGN_UP_FAILURE',\r\n};\r\n\r\nexport default UserActionTypes;\r\n","import UserActionTypes from './user.types';\r\n\r\nexport const googleSignInStart = () => ({\r\n  type: UserActionTypes.GOOGLE_SIGN_IN_START,\r\n});\r\n\r\nexport const signInSuccess = user => ({\r\n  type: UserActionTypes.SIGN_IN_SUCCESS,\r\n  payload: user,\r\n});\r\n\r\nexport const signInFailure = error => ({\r\n  type: UserActionTypes.SIGN_IN_FAILURE,\r\n  payload: error,\r\n});\r\n\r\nexport const emailSignInStart = emailAndPassword => ({\r\n  type: UserActionTypes.EMAIL_SIGN_IN_START,\r\n  payload: emailAndPassword,\r\n});\r\n\r\nexport const checkUserSession = () => ({\r\n  type: UserActionTypes.CHECK_USER_SESSION,\r\n});\r\n\r\nexport const signOutStart = () => ({\r\n  type: UserActionTypes.SIGN_OUT_START,\r\n});\r\n\r\nexport const signOutSuccess = () => ({\r\n  type: UserActionTypes.SIGN_OUT_SUCCESS,\r\n});\r\n\r\nexport const signOutFailure = error => ({\r\n  type: UserActionTypes.SIGN_OUT_FAILURE,\r\n  payload: error,\r\n});\r\n\r\nexport const signUpStart = userCredentials => ({\r\n  type: UserActionTypes.SIGN_UP_START,\r\n  payload: userCredentials,\r\n});\r\n\r\nexport const signUpSuccess = ({ user, additionalData }) => ({\r\n  type: UserActionTypes.SIGN_UP_SUCCESS,\r\n  payload: { user, additionalData },\r\n});\r\n\r\nexport const signUpFailure = error => ({\r\n  type: UserActionTypes.SIGN_UP_FAILURE,\r\n  payload: error,\r\n});\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport FormInput from '../form-input/form-input.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport './sign-in.styles.scss';\r\n\r\nimport {\r\n  googleSignInStart,\r\n  emailSignInStart,\r\n} from '../../redux/user/user.actions';\r\n\r\nconst SignIn = ({ emailSignInStart, googleSignInStart }) => {\r\n  const [userCredentials, setCredentials] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const { email, password } = userCredentials;\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n\r\n    emailSignInStart(email, password);\r\n  };\r\n\r\n  const handleChange = event => {\r\n    const { value, name } = event.target;\r\n    setCredentials({ ...userCredentials, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <div className='sign-in'>\r\n      <h2 className='title'>I already have an account</h2>\r\n      <span>Sign in with your email and password</span>\r\n      <form onSubmit={handleSubmit}>\r\n        <FormInput\r\n          name='email'\r\n          type='email'\r\n          value={email}\r\n          label='Email'\r\n          handleChange={handleChange}\r\n          required\r\n        />\r\n        <FormInput\r\n          name='password'\r\n          type='password'\r\n          value={password}\r\n          label='Password'\r\n          handleChange={handleChange}\r\n          required\r\n        />\r\n        <div className='buttons'>\r\n          <CustomButton type='submit'>Sign in</CustomButton>\r\n          <CustomButton\r\n            type='button'\r\n            onClick={googleSignInStart}\r\n            isGoogleSignIn\r\n          >\r\n            Sign in with Google\r\n          </CustomButton>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  googleSignInStart: () => dispatch(googleSignInStart()),\r\n  emailSignInStart: (email, password) =>\r\n    dispatch(emailSignInStart({ email, password })),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(SignIn);\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport FormInput from '../form-input/form-input.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport { signUpStart } from '../../redux/user/user.actions';\r\n\r\nimport './sign-up.styles.scss';\r\n\r\nconst SignUp = ({ signUpStart }) => {\r\n  const [userCredentials, setUserCredentials] = useState({\r\n    displayName: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n  });\r\n\r\n  const { displayName, email, password, confirmPassword } = userCredentials;\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n\r\n    if (password !== confirmPassword) {\r\n      alert(\"passwords don't match\");\r\n      return;\r\n    }\r\n\r\n    signUpStart({ displayName, email, password });\r\n  };\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setUserCredentials({ ...userCredentials, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <div className='sign-up'>\r\n      <h2 className='title'>I do not have an account</h2>\r\n      <span>Sign up with your email and password</span>\r\n      <form className='sign-up-form' onSubmit={handleSubmit}>\r\n        <FormInput\r\n          type='text'\r\n          name='displayName'\r\n          value={displayName}\r\n          onChange={handleChange}\r\n          label='Display Name'\r\n          required\r\n        />\r\n        <FormInput\r\n          type='email'\r\n          name='email'\r\n          value={email}\r\n          onChange={handleChange}\r\n          label='Email'\r\n          required\r\n        />\r\n        <FormInput\r\n          type='password'\r\n          name='password'\r\n          value={password}\r\n          onChange={handleChange}\r\n          label='Password'\r\n          required\r\n        />\r\n        <FormInput\r\n          type='password'\r\n          name='confirmPassword'\r\n          value={confirmPassword}\r\n          onChange={handleChange}\r\n          label='Confirm Password'\r\n          required\r\n        />\r\n        <CustomButton type='submit'>SIGN UP</CustomButton>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  signUpStart: userCredentials => dispatch(signUpStart(userCredentials)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUp);\r\n","import React from 'react';\r\n\r\nimport SignIn from '../../components/sign-in/sign-in.component';\r\nimport SignUp from '../../components/sign-up/sign-up.component';\r\n\r\nimport './sign-in-and-sign-up.styles.scss';\r\n\r\nconst SignInAndSignUpPage = () => (\r\n  <div className='sign-in-and-sign-up'>\r\n    <SignIn />\r\n    <SignUp />\r\n  </div>\r\n);\r\n\r\nexport default SignInAndSignUpPage;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n  clearItemFromCart,\r\n  addItem,\r\n  removeItem,\r\n} from '../../redux/cart/cart.actions';\r\n\r\nimport './checkout-item.styles.scss';\r\n\r\nconst CheckoutItem = ({ cartItem, clearItem, addItem, removeItem }) => {\r\n  const { name, imageUrl, price, quantity } = cartItem;\r\n  return (\r\n    <div className='checkout-item'>\r\n      <div className='image-container'>\r\n        <img src={imageUrl} alt='item' />\r\n      </div>\r\n      <span className='name'>{name}</span>\r\n      <span className='quantity'>\r\n        <div className='arrow' onClick={() => removeItem(cartItem)}>\r\n          &#10094;\r\n        </div>\r\n        <span className='value'>{quantity}</span>\r\n        <div className='arrow' onClick={() => addItem(cartItem)}>\r\n          &#10095;\r\n        </div>\r\n      </span>\r\n      <span className='price'>{price}</span>\r\n      <span className='remove-button' onClick={() => clearItem(cartItem)}>\r\n        &#10005;\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  clearItem: item => dispatch(clearItemFromCart(item)),\r\n  addItem: item => dispatch(addItem(item)),\r\n  removeItem: item => dispatch(removeItem(item)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(CheckoutItem);\r\n","import React from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport axios from 'axios';\r\n\r\nconst StripeCheckoutButton = ({ price }) => {\r\n  const priceForStripe = price * 100;\r\n  const publishableKey =\r\n    'pk_test_51H9WP9B9mjj8BRnk6Rz25aYKxooFQaPB691SOFPQgWegonXUwH92qvFylC4kszcoFeAPekjMmzGhuEa3FW26gqqk00EEvkCKNO';\r\n\r\n  const onToken = token => {\r\n    axios({\r\n      url: 'payment',\r\n      method: 'post',\r\n      data: {\r\n        amount: priceForStripe,\r\n        token,\r\n      },\r\n    })\r\n      .then(response => {\r\n        alert('Payment successful');\r\n      })\r\n      .catch(error => {\r\n        console.log('Payment error: ', JSON.parse(error));\r\n        alert(\r\n          'There was an issue with your payment. Please make sure you use the provided credit card.'\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <StripeCheckout\r\n      label='Pay Now'\r\n      name='eShop Demo Ltd.'\r\n      billingAddress\r\n      shippingAddress\r\n      image='https://svgshare.com/i/Cuz.svg'\r\n      description={`Your total is £${price}`}\r\n      amount={priceForStripe}\r\n      currency='GBP'\r\n      panelLabel='Pay Now'\r\n      token={onToken}\r\n      stripeKey={publishableKey}\r\n    />\r\n  );\r\n};\r\n\r\nexport default StripeCheckoutButton;\r\n","import { createSelector } from 'reselect';\r\n\r\nconst selectCart = state => state.cart;\r\n\r\nexport const selectCartItems = createSelector(\r\n  [selectCart],\r\n  cart => cart.cartItems\r\n);\r\n\r\nexport const selectCartHidden = createSelector(\r\n  [selectCart],\r\n  cart => cart.hidden\r\n);\r\n\r\nexport const selectCartItemsCount = createSelector(\r\n  [selectCartItems],\r\n  cartItems => cartItems.reduce((acc, cartItem) => acc + cartItem.quantity, 0)\r\n);\r\n\r\nexport const selectCartTotal = createSelector([selectCartItems], cartItems =>\r\n  cartItems.reduce((acc, cartItem) => acc + cartItem.price, 0)\r\n);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport CheckoutItem from '../../components/checkout-item/checkout-item.compnent';\r\nimport StripeCheckoutButton from '../../components/stripe-button/stripe-button.component';\r\n\r\nimport {\r\n  selectCartItems,\r\n  selectCartTotal,\r\n} from '../../redux/cart/cart.selectors';\r\n\r\nimport './checkout.styles.scss';\r\n\r\nconst CheckoutPage = ({ cartItems, total }) => (\r\n  <div className='checkout-page'>\r\n    <div className='checkout-header'>\r\n      <div className='header-block'>\r\n        <span>Product</span>\r\n      </div>\r\n      <div className='header-block'>\r\n        <span>Description</span>\r\n      </div>\r\n      <div className='header-block'>\r\n        <span>Quantity</span>\r\n      </div>\r\n      <div className='header-block'>\r\n        <span>Price</span>\r\n      </div>\r\n      <div className='header-block'>\r\n        <span>Remove</span>\r\n      </div>\r\n    </div>\r\n    {cartItems.map(cartItem => (\r\n      <CheckoutItem key={cartItem.id} cartItem={cartItem} />\r\n    ))}\r\n    <div className='total'>\r\n      <span>TOTAL: £{total}</span>\r\n    </div>\r\n    <div className='test-warning'>\r\n      *Please use the following test credit card for payments*\r\n      <br />\r\n      <strong>5555 5555 5555 4444</strong>\r\n      <br />\r\n      <strong>Date: </strong>Any future date; <strong>CVC: </strong>Any 3\r\n      digits;\r\n    </div>\r\n    <StripeCheckoutButton price={total} />\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  cartItems: selectCartItems,\r\n  total: selectCartTotal,\r\n});\r\n\r\nexport default connect(mapStateToProps)(CheckoutPage);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgShoppingBag = function SvgShoppingBag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 407.453 407.453\",\n    style: {\n      enableBackground: \"new 0 0 407.453 407.453\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z\"\n  })), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgShoppingBag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/shopping-bag.30f07071.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { toggleCartHidden } from '../../redux/cart/cart.actions';\r\nimport { selectCartItemsCount } from '../../redux/cart/cart.selectors';\r\n\r\nimport { ReactComponent as ShoppingIcon } from '../../assets/shopping-bag.svg';\r\n\r\nimport './cart-icon.styles.scss';\r\n\r\nconst CartIcon = ({ toggleCartHidden, itemCount }) => (\r\n  <div className='cart-icon' onClick={toggleCartHidden}>\r\n    <ShoppingIcon className='shopping-icon' />\r\n    <span className='item-count'>{itemCount}</span>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  itemCount: selectCartItemsCount,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  toggleCartHidden: () => dispatch(toggleCartHidden()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartIcon);\r\n","import React from 'react';\r\n\r\nimport './cart-item.styles.scss';\r\n\r\nconst CartItem = ({ item: { imageUrl, price, name, quantity } }) => (\r\n  <div className='cart-item'>\r\n    <img src={imageUrl} alt={name} />\r\n    <div className='item-details'>\r\n      <span className='name'>{name}</span>\r\n      <span className='price'>\r\n        {quantity} x £{price}\r\n      </span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default CartItem;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport CartItem from '../cart-item/cart-item.component';\r\nimport { selectCartItems } from '../../redux/cart/cart.selectors';\r\nimport { toggleCartHidden } from '../../redux/cart/cart.actions';\r\n\r\nimport './cart-dropdown.styles.scss';\r\n\r\nconst CartDropdown = ({ cartItems, history, dispatch }) => (\r\n  <div className='cart-dropdown'>\r\n    <div className='cart-items'>\r\n      {cartItems.length ? (\r\n        cartItems.map(cartItem => (\r\n          <CartItem key={cartItem.id} item={cartItem} />\r\n        ))\r\n      ) : (\r\n        <span className='empty-message'>Your cart is empty</span>\r\n      )}\r\n    </div>\r\n    <CustomButton\r\n      onClick={() => {\r\n        history.push('/checkout');\r\n        dispatch(toggleCartHidden());\r\n      }}\r\n    >\r\n      GO TO CHECKOUT\r\n    </CustomButton>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  cartItems: selectCartItems,\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(CartDropdown));\r\n","import { createSelector } from 'reselect';\r\n\r\nconst selectUser = state => state.user;\r\n\r\nexport const selectCurrentUser = createSelector(\r\n  [selectUser],\r\n  user => user.currentUser\r\n);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Group\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"WiP\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Artboard\",\n  transform: \"translate(-90.000000, -38.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(90.000000, 38.000000)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Rectangle\",\n  fill: \"#808282\",\n  points: \"3 14 25 26.5 47 14 40.855176 39 9.08421785 39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Triangle\",\n  fillOpacity: 0.262838724,\n  fill: \"#101A1A\",\n  points: \"25 8 40 39 10 39\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 2,\n  cy: 9,\n  r: 2\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 25,\n  cy: 2,\n  r: 2\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Oval\",\n  fill: \"#5E6363\",\n  cx: 48,\n  cy: 9,\n  r: 2\n}))));\n\nvar SvgCrown = function SvgCrown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"50px\",\n    height: \"39px\",\n    viewBox: \"0 0 50 39\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCrown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/crown.ed28accb.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const HeaderContainer = styled.div`\r\n  height: 70px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 25px;\r\n`;\r\n\r\nexport const LogoContainer = styled(Link)`\r\n  height: 100%;\r\n  width: 70px;\r\n  padding: 25px;\r\n`;\r\n\r\nexport const OptionsContainer = styled.div`\r\n  width: 50%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nexport const OptionLink = styled(Link)`\r\n  padding: 10px 15px;\r\n  border-bottom: 3px solid transparent;\r\n  cursor: pointer;\r\n`;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\n// import { auth } from '../../firebase/firebase.utils';\r\nimport CartIcon from '../cart-icon/cart-icon.component';\r\nimport CartDropdown from '../cart-dropdown/cart-dropdown.component';\r\nimport { selectCartHidden } from '../../redux/cart/cart.selectors';\r\nimport { selectCurrentUser } from '../../redux/user/user.selectors';\r\nimport { signOutStart } from '../../redux/user/user.actions';\r\n\r\nimport { ReactComponent as Logo } from '../../assets/crown.svg';\r\n\r\nimport {\r\n  HeaderContainer,\r\n  LogoContainer,\r\n  OptionsContainer,\r\n  OptionLink,\r\n} from './header.styles';\r\n\r\nconst signInSignOutLink = (currentUser, action) => {\r\n  return currentUser ? (\r\n    <OptionLink as='div' onClick={action}>\r\n      SIGN OUT\r\n    </OptionLink>\r\n  ) : (\r\n    <OptionLink to='/signin'>SIGN IN</OptionLink>\r\n  );\r\n};\r\n\r\nconst Header = ({ currentUser, hidden, signOutStart }) => (\r\n  <HeaderContainer>\r\n    <LogoContainer to='/'>\r\n      <Logo className='logo /' />\r\n    </LogoContainer>\r\n    <OptionsContainer>\r\n      <OptionLink to='/shop'>SHOP</OptionLink>\r\n      <OptionLink to='/contact'>CONTACT</OptionLink>\r\n      {signInSignOutLink(currentUser, signOutStart)}\r\n      <CartIcon />\r\n    </OptionsContainer>\r\n    {hidden ? null : <CartDropdown />}\r\n  </HeaderContainer>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  currentUser: selectCurrentUser,\r\n  hidden: selectCartHidden,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  signOutStart: () => dispatch(signOutStart()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import React, { useEffect } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\n\nimport './App.scss';\n\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from './pages/shop/shop.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport CheckoutPage from './pages/checkout/checkout.component';\n\nimport Header from './components/header/header.component';\n\nimport { selectCurrentUser } from './redux/user/user.selectors';\nimport { checkUserSession } from './redux/user/user.actions';\n\nconst App = ({ checkUserSession, currentUser }) => {\n  useEffect(() => {\n    checkUserSession();\n  }, [checkUserSession]);\n\n  return (\n    <div>\n      <Header />\n      <Switch>\n        <Route exact path='/' component={HomePage} />\n        <Route path='/shop' component={ShopPage} />\n        <Route exact path='/checkout' component={CheckoutPage} />\n        <Route\n          exact\n          path='/signin'\n          render={() =>\n            currentUser ? <Redirect to='/' /> : <SignInAndSignUpPage />\n          }\n        />\n      </Switch>\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession: () => dispatch(checkUserSession()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import UserActionTypes from './user.types';\r\n\r\nconst INITIAL_STATE = {\r\n  currentUser: null,\r\n  error: null,\r\n};\r\n\r\nconst userReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case UserActionTypes.SIGN_IN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload,\r\n        error: null,\r\n      };\r\n    case UserActionTypes.SIGN_OUT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        currentUser: null,\r\n        error: null,\r\n      };\r\n    case UserActionTypes.SIGN_IN_FAILURE:\r\n    case UserActionTypes.SIGN_OUT_FAILURE:\r\n    case UserActionTypes.SIGN_UP_FAILURE:\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","export const addItemToCart = (cartItems, cartItemToAdd) => {\r\n  const existingCartItem = cartItems.find(\r\n    cartItem => cartItem.id === cartItemToAdd.id\r\n  );\r\n\r\n  if (existingCartItem) {\r\n    return cartItems.map(cartItem =>\r\n      cartItem.id === cartItemToAdd.id\r\n        ? { ...cartItem, quantity: cartItem.quantity + 1 }\r\n        : cartItem\r\n    );\r\n  }\r\n\r\n  return [...cartItems, { ...cartItemToAdd, quantity: 1 }];\r\n};\r\n\r\nexport const removeItemFromCart = (cartItems, cartItemsToRemove) => {\r\n  const existingCartItem = cartItems.find(\r\n    cartItem => cartItem.id === cartItemsToRemove.id\r\n  );\r\n\r\n  if (existingCartItem.quantity === 1) {\r\n    return cartItems.filter(cartItem => cartItem.id !== cartItemsToRemove.id);\r\n  }\r\n\r\n  return cartItems.map(cartItem =>\r\n    cartItem.id === cartItemsToRemove.id\r\n      ? { ...cartItem, quantity: cartItem.quantity - 1 }\r\n      : cartItem\r\n  );\r\n};\r\n","import CartActionTypes from './cart.types';\r\nimport { addItemToCart, removeItemFromCart } from './cart.utils';\r\n\r\nconst INITIAL_STATE = {\r\n  hidden: true,\r\n  cartItems: [],\r\n};\r\n\r\nconst cartReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case CartActionTypes.TOGGLE_CART_HIDDEN:\r\n      return {\r\n        ...state,\r\n        hidden: !state.hidden,\r\n      };\r\n    case CartActionTypes.ADD_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: addItemToCart(state.cartItems, action.payload),\r\n      };\r\n    case CartActionTypes.REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: removeItemFromCart(state.cartItems, action.payload),\r\n      };\r\n    case CartActionTypes.CLEAR_ITEM_FROM_CART:\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems.filter(\r\n          cartItem => cartItem.id !== action.payload.id\r\n        ),\r\n      };\r\n    case CartActionTypes.CLEAR_CART:\r\n      return {\r\n        ...state,\r\n        cartItems: [],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n","const INITIAL_STATE = {\r\n  sections: [\r\n    {\r\n      title: 'hats',\r\n      imageUrl: 'https://i.ibb.co/cvpntL1/hats.png',\r\n      id: 1,\r\n      linkUrl: 'shop/hats',\r\n    },\r\n    {\r\n      title: 'jackets',\r\n      imageUrl: 'https://i.ibb.co/px2tCc3/jackets.png',\r\n      id: 2,\r\n      linkUrl: 'shop/jackets',\r\n    },\r\n    {\r\n      title: 'sneakers',\r\n      imageUrl: 'https://i.ibb.co/0jqHpnp/sneakers.png',\r\n      id: 3,\r\n      linkUrl: 'shop/sneakers',\r\n    },\r\n    {\r\n      title: 'womens',\r\n      imageUrl: 'https://i.ibb.co/GCCdy8t/womens.png',\r\n      size: 'large',\r\n      id: 4,\r\n      linkUrl: 'shop/womens',\r\n    },\r\n    {\r\n      title: 'mens',\r\n      imageUrl: 'https://i.ibb.co/R70vBrQ/men.png',\r\n      size: 'large',\r\n      id: 5,\r\n      linkUrl: 'shop/mens',\r\n    },\r\n  ],\r\n};\r\n\r\nconst directoryReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default directoryReducer;\r\n","import ShopActionTypes from './shop.types';\r\n\r\nconst INITIAL_STATE = {\r\n  collections: null,\r\n  isFetching: false,\r\n};\r\n\r\nconst shopReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case ShopActionTypes.FETCH_COLLECTIONS_START:\r\n      return {\r\n        ...state,\r\n        isFetching: true,\r\n      };\r\n    case ShopActionTypes.FETCH_COLLECTIONS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        collections: action.payload,\r\n      };\r\n    case ShopActionTypes.FETCH_COLLECTIONS_FAILURE:\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        errMessage: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default shopReducer;\r\n","import { combineReducers } from 'redux';\r\nimport { persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport userReducer from './user/user.reducer';\r\nimport cartReducer from './cart/cart.reducer';\r\nimport directoryReducer from './directory/directory.reducer';\r\nimport shopReducer from './shop/shop.reducer';\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n  whitelist: ['cart'],\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  cart: cartReducer,\r\n  directory: directoryReducer,\r\n  shop: shopReducer,\r\n});\r\n\r\nexport default persistReducer(persistConfig, rootReducer);\r\n","import { takeLatest, call, put, all } from 'redux-saga/effects';\r\n\r\nimport {\r\n  firestore,\r\n  convertCollectionSnapshotToMap,\r\n} from '../../firebase/firebase.utils';\r\n\r\nimport {\r\n  fetchCollecitonsSuccess,\r\n  fetchCollectionFailure,\r\n} from './shop.actions';\r\n\r\nimport ShopActionTypes from './shop.types';\r\n\r\nexport function* fetchCollectionsAsync() {\r\n  try {\r\n    const collectionRef = firestore.collection('collections');\r\n    const snapshot = yield collectionRef.get();\r\n    const collectionsMap = yield call(convertCollectionSnapshotToMap, snapshot);\r\n    yield put(fetchCollecitonsSuccess(collectionsMap));\r\n  } catch (error) {\r\n    yield put(fetchCollectionFailure(error.message));\r\n  }\r\n\r\n  // return dispatch => {\r\n  //   const collectionRef = firestore.collection('collections');\r\n  //   dispatch(fetchCollectionsStart());\r\n\r\n  //   collectionRef\r\n  //     .get()\r\n  //     .then(snapshot => {\r\n  //       const collectionsMap = convertCollectionSnapshotToMap(snapshot);\r\n  //       dispatch(fetchCollecitonsSuccess(collectionsMap));\r\n  //     })\r\n  //     .catch(err => dispatch(fetchCollectionFailure(err.message)));\r\n  // };\r\n}\r\n\r\nexport function* fetchCollectionsStart() {\r\n  yield takeLatest(\r\n    ShopActionTypes.FETCH_COLLECTIONS_START,\r\n    fetchCollectionsAsync\r\n  );\r\n}\r\n\r\nexport function* shopSagas() {\r\n  yield all([call(fetchCollectionsStart)]);\r\n}\r\n","import { takeLatest, put, all, call } from 'redux-saga/effects';\r\n\r\nimport UserActionTypes from './user.types';\r\n\r\nimport {\r\n  signInSuccess,\r\n  signInFailure,\r\n  signOutSuccess,\r\n  signOutFailure,\r\n  signUpSuccess,\r\n  signUpFailure,\r\n} from './user.actions';\r\n\r\nimport {\r\n  auth,\r\n  googleProvider,\r\n  createUserProfileDocument,\r\n  getCurrentUser,\r\n} from '../../firebase/firebase.utils';\r\n\r\nexport function* getSnapshotFromUserAuth(userAuth, additionalData) {\r\n  console.log('hit getsnap');\r\n  try {\r\n    const userRef = yield call(\r\n      createUserProfileDocument,\r\n      userAuth,\r\n      additionalData\r\n    );\r\n    const userSnapshot = yield userRef.get();\r\n    yield put(signInSuccess({ id: userSnapshot.id, ...userSnapshot.data() }));\r\n  } catch (error) {\r\n    yield put(signInFailure(error));\r\n  }\r\n}\r\n\r\nexport function* signInWithGoogle() {\r\n  try {\r\n    const { user } = yield auth.signInWithPopup(googleProvider);\r\n    yield getSnapshotFromUserAuth(user);\r\n  } catch (error) {\r\n    yield put(signInFailure(error));\r\n  }\r\n}\r\n\r\nexport function* signInWithEmail({ payload: { email, password } }) {\r\n  try {\r\n    console.log('hit', email, password);\r\n    const { user } = yield auth.signInWithEmailAndPassword(email, password);\r\n    console.log('hit', user);\r\n    yield getSnapshotFromUserAuth(user);\r\n  } catch (error) {\r\n    yield put(signInFailure(error));\r\n  }\r\n}\r\n\r\nexport function* isUserAuthenticated() {\r\n  try {\r\n    const userAuth = yield getCurrentUser();\r\n    if (!userAuth) return;\r\n    yield getSnapshotFromUserAuth(userAuth);\r\n  } catch (error) {\r\n    yield put(signInFailure(error));\r\n  }\r\n}\r\n\r\nexport function* signOut() {\r\n  try {\r\n    yield auth.signOut();\r\n    yield put(signOutSuccess());\r\n  } catch (error) {\r\n    yield put(signOutFailure(error));\r\n  }\r\n}\r\n\r\nexport function* signUp({ payload: { email, password, displayName } }) {\r\n  try {\r\n    const { user } = yield auth.createUserWithEmailAndPassword(email, password);\r\n    yield put(signUpSuccess({ user, additionalData: { displayName } }));\r\n  } catch (error) {\r\n    yield put(signUpFailure(error));\r\n  }\r\n}\r\n\r\nexport function* singInAfterSignUp({ payload: { user, additionalData } }) {\r\n  yield getSnapshotFromUserAuth(user, additionalData);\r\n}\r\n\r\nexport function* onGoogleSignInStart() {\r\n  yield takeLatest(UserActionTypes.GOOGLE_SIGN_IN_START, signInWithGoogle);\r\n}\r\n\r\nexport function* onEmailSignInStart() {\r\n  yield takeLatest(UserActionTypes.EMAIL_SIGN_IN_START, signInWithEmail);\r\n}\r\n\r\nexport function* onCheckUserSession() {\r\n  yield takeLatest(UserActionTypes.CHECK_USER_SESSION, isUserAuthenticated);\r\n}\r\n\r\nexport function* onSignOutStart() {\r\n  yield takeLatest(UserActionTypes.SIGN_OUT_START, signOut);\r\n}\r\n\r\nexport function* onSignUpStart() {\r\n  yield takeLatest(UserActionTypes.SIGN_UP_START, signUp);\r\n}\r\n\r\nexport function* onSingUpSuccess() {\r\n  yield takeLatest(UserActionTypes.SIGN_UP_SUCCESS, singInAfterSignUp);\r\n}\r\n\r\nexport function* userSagas() {\r\n  yield all([\r\n    call(onGoogleSignInStart),\r\n    call(onEmailSignInStart),\r\n    call(onCheckUserSession),\r\n    call(onSignOutStart),\r\n    call(onSignUpStart),\r\n    call(onSingUpSuccess),\r\n  ]);\r\n}\r\n","import { all, call, takeLatest, put } from 'redux-saga/effects';\r\n\r\nimport UserActionTypes from '../user/user.types';\r\nimport { clearCart } from './cart.actions';\r\n\r\nexport function* clearCartOnSignOut() {\r\n  yield put(clearCart());\r\n}\r\n\r\nexport function* onsignOutSuccess() {\r\n  yield takeLatest(UserActionTypes.SIGN_OUT_SUCCESS, clearCartOnSignOut);\r\n}\r\n\r\nexport function* cartSagas() {\r\n  yield all([call(onsignOutSuccess)]);\r\n}\r\n","import { all, call } from 'redux-saga/effects';\r\n\r\nimport { shopSagas } from './shop/shop.sagas';\r\nimport { userSagas } from './user/user.sagas';\r\nimport { cartSagas } from './cart/cart.sagas';\r\n\r\nexport default function* rootSaga() {\r\n  yield all([call(shopSagas), call(userSagas), call(cartSagas)]);\r\n}\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { persistStore } from 'redux-persist';\r\nimport logger from 'redux-logger';\r\nimport createSagaMiddleware from 'redux-saga';\r\n\r\nimport rootReducer from './root-reducer';\r\nimport rootSaga from './root-saga';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst middlewares = [sagaMiddleware];\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  middlewares.push(logger);\r\n}\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares));\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/* eslint-disable react/jsx-filename-extension */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport './index.css';\nimport App from './App';\n\nimport { store, persistor } from './redux/store';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <BrowserRouter>\n        <PersistGate persistor={persistor}>\n          <App />\n        </PersistGate>\n      </BrowserRouter>\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}